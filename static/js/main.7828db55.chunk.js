(this["webpackJsonpsc-admin-app"]=this["webpackJsonpsc-admin-app"]||[]).push([[0],{174:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(38),s=n.n(c),i=(n(174),n(19)),o=n(5),u=n.n(o),l=n(10),j=n(4),d=n(320),b=n(345),p=n(344),h=n(321),O=n(325),f=n(326),x=n(322),g=n(324),m=n(327),v=n.p+"static/media/logo.560ac05b.png",y=n(20),w=n(13),k=n(40),C=n(51),S=n(110),_=n.n(S),A="PROD",D={LOCAL:"https://sc-backend.ngrok.io",DEV:"https://sc-backend-dev.herokuapp.com",PROD:"https://sc-backend-prod.herokuapp.com"},L={LOCAL:"Local",DEV:"Development",PROD:"Production"},R=function(){function e(t){Object(k.a)(this,e),this.tokenKey=t+"Token",this.expireKey=t+"ExpiresAt"}return Object(C.a)(e,[{key:"set",value:function(e,t){localStorage.setItem(this.tokenKey,e),localStorage.setItem(this.expireKey,(new Date).getTime()+1e3*t)}},{key:"get",value:function(){return localStorage.getItem(this.tokenKey)}},{key:"exists",value:function(){return!!this.get()}},{key:"header",value:function(){return"Bearer ".concat(this.get())}},{key:"fullHeaderConfig",value:function(){return{headers:{Authorization:this.header()}}}},{key:"delete",value:function(){localStorage.setItem(this.tokenKey,""),localStorage.setItem(this.expireKey,-1)}}]),e}(),T=new(function(){function e(){Object(k.a)(this,e),this.tokens={access:new R("access"),refresh:new R("refresh")},this.api=_.a.create({baseURL:D.PROD,headers:{accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),this._installRefreshMiddleware(),this._initBaseMode(),this._updateAccessHeader()}return Object(C.a)(e,[{key:"_initBaseMode",value:function(){var e=this.getMode();e?this.switch(e):(this.switch(A),e=A)}},{key:"_updateAccessHeader",value:function(){var e=this.tokens.access.get();e?this.api.defaults.headers.common.Authorization="Bearer ".concat(e):delete this.api.defaults.headers.common.Authorization}},{key:"_tryRefreshAccessToken",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/api/user/refresh",{},this.tokens.refresh.fullHeaderConfig());case 3:t=e.sent,this.tokens.access.set(t.data.access,t.data.access_expires_in),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),this.tokens.access.delete(),this.tokens.refresh.delete(),Object(i.navigate)("/login");case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"_installRefreshMiddleware",value:function(){var e=this;this.api.interceptors.response.use((function(e){return e}),function(){var t=Object(l.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=401===n.response.status,a=n.config.headers.Authorization===e.tokens.access.header(),!r||!a){t.next=7;break}return t.next=5,e._tryRefreshAccessToken();case 5:return n.config.headers.Authorization=e.tokens.access.header(),t.abrupt("return",_.a.request(n.config));case 7:throw n;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getMode",value:function(){return localStorage.getItem("base-mode")}},{key:"switch",value:function(e){if(!(e in D))throw new Error("Invalid mode for API: '".concat(e,"'"));localStorage.setItem("base-mode",e),this.api.defaults.baseURL=D[e]}},{key:"client",value:function(){return this.api}},{key:"isLoggedIn",value:function(){return this.tokens.access.exists()}},{key:"signIn",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,this.api.post("/api/monitor/login",{email:n,password:r});case 3:a=e.sent,this.tokens.access.set(a.data.access,a.data.access_expires_in),this.tokens.refresh.set(a.data.refresh,a.data.refresh_expires_in),this._updateAccessHeader();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t.length>0&&void 0!==t[0])||t[0])){e.next=6;break}return e.next=4,this.api.delete("/api/user/revoke-access",this.tokens.access.fullHeaderConfig());case 4:return e.next=6,this.api.delete("/api/user/revoke-refresh",this.tokens.refresh.fullHeaderConfig());case 6:this.tokens.access.delete(),this.tokens.refresh.delete(),this._updateAccessHeader();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),z=n(26),N=function(){Object(i.useTitle)("Login - sproul.club Dashboard");var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(j.a)(s,2),k=o[0],C=o[1],S=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),n=t.target.email.value,r=t.target.password.value,e.prev=4,e.next=7,T.signIn({email:n,password:r});case 7:C(!1),Object(i.navigate)(At.HOME.path),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),a=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(a||e.t0.message),C(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(d.a,{align:"center",bg:"blue.100",justify:"center",minHeight:"100vh",children:Object(r.jsx)("form",{onSubmit:S,children:Object(r.jsxs)(b.a,{bg:"white",spacing:4,align:"center",padding:"32px",children:[Object(r.jsx)(p.a,{src:v,boxSize:"192px"}),Object(r.jsx)(h.a,{as:"h1",size:"xl",children:"Login"}),Object(r.jsx)(x.a,{size:"md",defaultValue:T.getMode(),onChange:function(e){var t=e.target.value;T.switch(t)},children:Object.entries(L).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(r.jsx)("option",{value:n,style:{color:"black"},children:a},n)}))}),Object(r.jsx)(g.a,{name:"email",type:"email",placeholder:"Email",isRequired:!0}),Object(r.jsxs)(O.a,{children:[Object(r.jsx)(g.a,{name:"password",type:n?"text":"password",placeholder:"Enter password",isRequired:!0}),Object(r.jsx)(f.a,{children:Object(r.jsx)(m.a,{onClick:function(){return c(!n)},children:Object(r.jsx)(y.a,{icon:n?w.i:w.j})})})]}),Object(r.jsx)(b.a,{spacing:8,align:"center",isInline:!0,children:Object(r.jsx)(m.a,{isLoading:k,colorScheme:"blue",type:"submit",children:"Login"})})]})})})},M=n(17),E=n(9),P=n(328),B=n(332),I=n(329),H=n(346),q=n(88),Y=n.n(q),F=n(67),U=n(310),G=function(e){var t=e.hasNavbar,n=void 0!==t&&t;return Object(r.jsx)(d.a,{align:"center",justify:"center",minHeight:n?"90vh":"100vh",children:Object(r.jsx)(U.a,{size:"xl"})})},K=n(111),W={404:"Oh no! This page does not exist!",403:"You are not allowed to go here!",500:"An internal server error has occurred! Call the backend dev about this abomination and tell them 'shame on you and your cow'."},Z=function(e){var t=e.errorCode,n=e.errorMsg||W[t]||"An unexpected error happened!";return Object(r.jsx)(d.a,{align:"center",justify:"center",minHeight:"100vh",children:Object(r.jsxs)(b.a,{spacing:8,align:"center",padding:"32px",children:[Object(r.jsx)(P.a,{paddingBottom:"2.0rem"}),Object(r.jsx)(K.a,{name:"warning",size:"10rem",color:"red.500"}),t&&Object(r.jsxs)(h.a,{as:"h1",size:"xl",children:["Error ",t]}),Object(r.jsx)(h.a,{as:"h4",size:"md",children:n})]})})},V=function(e){var t=e.promiseFn,n=e.children;return Object(r.jsxs)(F.a,{promiseFn:t,children:[Object(r.jsx)(F.a.Loading,{children:Object(r.jsx)(G,{hasNavbar:!0})}),Object(r.jsx)(F.a.Fulfilled,{children:function(e,t){var r=t.setData,a=t.reload;return n(e,{setData:r,reload:a})}}),Object(r.jsx)(F.a.Rejected,{children:function(e){return Object(r.jsx)(Z,{errorCode:e.code,errorMsg:e.message})}})]})},J=function(e){var t=e.type,n=e.title,a=e.data,c=e.dataLabels,s=e.dataDescription,i=e.bgColors,o=e.borderColors,u=e.showLegend,l=void 0!==u&&u,j=e.beginAtZero,d={labels:c,datasets:[{label:s,data:a,fill:!1,backgroundColor:i,borderColor:o,borderWidth:1}]},b={title:{display:!0,text:n,fontSize:18},legend:{display:l},responsive:!0,maintainAspectRatio:!0,scales:{yAxes:[{ticks:{beginAtZero:void 0!==j&&j,callback:function(e){if(e%1===0)return e}}}]}};return Object(r.jsx)(Y.a,{data:d,options:b,type:t,height:50,width:100})},$=function(e){return Object(r.jsx)(P.a,Object(E.a)({px:"4",py:"5",rounded:"sm",shadow:"lg"},e))},Q=function(e){var t=e.children,n=e.onReload;return Object(r.jsxs)(d.a,{justify:"space-between",paddingBottom:"8px",children:[Object(r.jsx)(h.a,{as:"h3",size:"lg",children:t}),n&&Object(r.jsx)(m.a,{onClick:n,children:Object(r.jsx)(y.a,{icon:w.l})})]})},X=function(e){var t=e.label,n=e.number,a=e.arrow,c=void 0===a?null:a,s=e.helpText,i=void 0===s?null:s;e.isLoaded;return Object(r.jsx)($,{children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(I.d,{children:t}),Object(r.jsx)(I.e,{children:n}),i&&Object(r.jsxs)(I.c,{children:[c&&Object(r.jsx)(I.b,{type:c}),i]})]})})};function ee(){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(u.a.mark((function e(){var t,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([T.client().get("/api/monitor/overview/stats/sign-up"),T.client().get("/api/monitor/overview/stats/activity")]);case 2:return t=e.sent,n=Object(j.a)(t,2),r=n[0],a=n[1],e.abrupt("return",{sign_up:r.data,activity:a.data});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return e>0?"increase":e<0?"decrease":null}var re=function(e){var t=e.stats,n=e.reload,a=t.sign_up.club_admin.main.clubs_registered,c=t.sign_up.club_admin.changed.clubs_registered,s=t.sign_up.club_admin.history.clubs_registered,i=t.sign_up.club_admin.main.clubs_confirmed,o=t.sign_up.club_admin.changed.clubs_confirmed,u=t.sign_up.club_admin.history.clubs_confirmed,l=t.sign_up.club_admin.main.clubs_reactivated,j=t.sign_up.club_admin.changed.clubs_reactivated,d=t.sign_up.club_admin.history.clubs_reactivated,p=t.sign_up.student.main.students_signed_up,h=t.sign_up.student.changed.students_signed_up,O=t.sign_up.student.main.students_confirmed,f=t.sign_up.student.changed.students_confirmed;return Object(r.jsxs)(H.e,{isLazy:!0,variant:"soft-rounded",padding:"".concat(48,"px"),pr:"".concat(96,"px"),pl:"".concat(96,"px"),children:[Object(r.jsxs)(H.b,{children:[Object(r.jsx)(H.a,{children:"Club Admins Accounts"}),Object(r.jsx)(H.a,{children:"Student Accounts"})]}),Object(r.jsxs)(H.d,{children:[Object(r.jsx)(H.c,{children:Object(r.jsxs)(b.a,{children:[Object(r.jsx)(Q,{onReload:n,children:"Sign Up"}),Object(r.jsxs)(B.a,{templateColumns:"repeat(4, 1fr)",gap:6,children:[Object(r.jsx)(X,{label:"Number of clubs registered",number:a,arrow:ne(c),helpText:"".concat(Math.abs(c)," from past week")}),Object(r.jsx)(X,{label:"Number of confirmed clubs",number:i+" / "+a,arrow:ne(o),helpText:"".concat(Math.abs(o)," from past week")}),Object(r.jsx)(X,{label:"Number of reactivated clubs",number:l+" / "+i,arrow:ne(j),helpText:"".concat(Math.abs(j)," from past week")}),Object(r.jsx)(X,{label:"Number of clubs on RSO list",number:t.sign_up.club_admin.main.clubs_rso_list})]}),Object(r.jsxs)(B.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(r.jsx)($,{children:Object(r.jsx)(J,{type:"bar",title:"Registered clubs over time",dataLabels:Object(M.a)(Array(s.length).keys()).map((function(e){return s.length-e-1})),data:s,dataDescription:"# of clubs",bgColors:"rgba(255, 99, 132, 0.4)",beginAtZero:!0})}),Object(r.jsx)($,{children:Object(r.jsx)(J,{type:"bar",title:"Confirmed clubs over time",dataLabels:Object(M.a)(Array(u.length).keys()).map((function(e){return u.length-e-1})),data:u,dataDescription:"# of clubs",bgColors:"rgba(75, 192, 192, 0.4)",beginAtZero:!0})}),Object(r.jsx)($,{children:Object(r.jsx)(J,{type:"bar",title:"Reactivated clubs over time",dataLabels:Object(M.a)(Array(d.length).keys()).map((function(e){return d.length-e-1})),data:d,dataDescription:"# of clubs",bgColors:"rgba(54, 162, 235, 0.4)",beginAtZero:!0})})]}),Object(r.jsx)(P.a,{padding:"".concat(16,"px")}),Object(r.jsx)(Q,{children:"Activity"}),Object(r.jsxs)(B.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(r.jsx)(X,{label:"Number of active club admins",number:t.activity.active_club_admins}),Object(r.jsx)(X,{label:"Number of active students",number:t.activity.active_students}),Object(r.jsx)(X,{label:"Number of searches",number:t.activity.catalog_searches})]})]})}),Object(r.jsx)(H.c,{children:Object(r.jsxs)(b.a,{children:[Object(r.jsx)(Q,{onReload:n,children:"Sign Up"}),Object(r.jsxs)(B.a,{templateColumns:"repeat(2, 1fr)",gap:6,children:[Object(r.jsx)(X,{label:"Number of students registered",number:p,arrow:ne(h),helpText:"".concat(Math.abs(h)," from past week")}),Object(r.jsx)(X,{label:"Number of students confirmed",number:O,arrow:ne(f),helpText:"".concat(Math.abs(f)," from past week")})]}),Object(r.jsx)(P.a,{padding:"".concat(16,"px")}),Object(r.jsx)(Q,{children:"Activity"}),Object(r.jsxs)(B.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(r.jsx)(X,{label:"Number of active club admins",number:t.activity.active_club_admins}),Object(r.jsx)(X,{label:"Number of active students",number:t.activity.active_students}),Object(r.jsx)(X,{label:"Number of searches",number:t.activity.catalog_searches})]})]})})]})]})},ae=function(){return Object(i.useTitle)("Home - sproul.club Dashboard"),Object(r.jsx)(V,{promiseFn:ee,children:function(e,t){var n=t.reload;return Object(r.jsx)(re,{stats:e,reload:n})}})},ce=n(335),se=n(343);function ie(e){return Object(r.jsx)(P.a,{shadow:"sm",rounded:"lg",overflow:"hidden",children:Object(r.jsx)(P.a,Object(E.a)({as:"table",width:"full"},e))})}function oe(e){return Object(r.jsx)(P.a,Object(E.a)({as:"thead"},e))}function ue(e){return Object(r.jsx)(P.a,Object(E.a)({as:"tr"},e))}function le(e){return Object(r.jsx)(P.a,Object(E.a)({as:"th",px:"6",py:"3",borderBottomWidth:"1px",backgroundColor:"gray.50",textAlign:"left",fontSize:"xs",color:"gray.500",textTransform:"uppercase",letterSpacing:"wider",lineHeight:"1rem",fontWeight:"medium"},e))}function je(e){return Object(r.jsx)(P.a,Object(E.a)({as:"tbody"},e))}function de(e){return Object(r.jsx)(P.a,Object(E.a)({as:"td",px:"4",py:"2",lineHeight:"1.25rem",whiteSpace:"nowrap"},e))}var be=n(336),pe=n(54),he=n.n(pe),Oe=n(333),fe=n(302);function xe(e){var t=e.data,n=e.mapper,r=void 0===n?function(e){return e}:n,c=e.searchDelay,s=void 0===c?0:c,i=e.onListChange,o=void 0===i?null:i,d=Object(a.useState)(""),b=Object(j.a)(d,2),p=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(j.a)(O,2),x=f[0],g=f[1],m=Object(a.useState)([]),v=Object(j.a)(m,2),y=v[0],w=v[1];function k(e){if(!e)return!1;var t=r(e).toLowerCase(),n=p.toLowerCase();return t.includes(n)}var C=Object(Oe.a)((function(e){g(!0),h(e),g(!1)}),s);function S(){return(S=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,t();case 3:return e.next=5,o();case 5:g(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=p?t.filter(k):t;w(e)}),[t,p]),[{get:function(){return p},set:C.callback},{get:function(){return x},set:g},y,o?function(e){return S.apply(this,arguments)}:null]}function ge(e,t,n){var r=Object(a.useState)(1),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)([]),u=Object(j.a)(o,2),l=u[0],d=u[1],b=Math.ceil(e.length/t);Object(a.useEffect)((function(){var n=(s-1)*t;d(e.slice(n,n+t))}),[e,s,t]),Object(a.useEffect)((function(){return i(1)}),[e]);return[s,b,l,function(){return s<b&&i(s+1)},function(){return s>1&&i(s-1)}]}var me=n(150),ve=function(e){var t=e.title,n=e.pageNum,a=e.numPages,c=e.prevPage,s=e.nextPage;return Object(r.jsxs)(d.a,{justify:"space-between",children:[Object(r.jsx)(h.a,{as:"h1",size:"xl",children:t}),Object(r.jsxs)(me.a,{align:"flex-end",paddingTop:"4px",children:[Object(r.jsx)(m.a,{onClick:c,isDisabled:n<=1,children:Object(r.jsx)(y.a,{icon:w.d})}),Object(r.jsx)(m.a,{isDisabled:!0,children:"".concat(n," / ").concat(a)}),Object(r.jsx)(m.a,{onClick:s,isDisabled:n>=a,children:Object(r.jsx)(y.a,{icon:w.e})})]})]})},ye=function(e){var t=e.onSearch,n=void 0===t?null:t,c=e.onChange,s=void 0===c?null:c,i=e.extraButtons,o=void 0===i?null:i,u=Object(a.useRef)(null);return Object(r.jsxs)(d.a,{children:[Object(r.jsxs)(O.a,{size:"lg",flexGrow:"1",children:[Object(r.jsx)(g.a,{rounded:"0",placeholder:"Search...",onChange:function(e){return s&&s(e.target.value.trim())},ref:u}),Object(r.jsx)(f.a,{children:Object(r.jsx)(m.a,{colorScheme:"blue",isLoading:!1,onClick:function(){return n&&n(u.current.value.trim())},children:Object(r.jsx)(y.a,{icon:w.m})})})]}),o&&Object.keys(o).length>0&&Object(r.jsx)(me.a,{align:"flex-end",paddingTop:"4px",paddingLeft:"4px",children:o.map((function(e,t){var n=e.icon,a=e.onClick;return Object(r.jsx)(m.a,{onClick:a,children:Object(r.jsx)(y.a,{icon:n})},t)}))})]})},we=n(340);function ke(e,t){var n={};return Object.keys(e).forEach((function(r){t.current[r]?n[r]=t.current[r].value.trim():n[r]=e[r].value})),n}var Ce=function(e){var t=e.title,n=e.fields,c=e.ctrl,s=e.onSave,i=Object(a.useRef)({}),o=function(e){var t=Object(a.useState)(e),n=Object(j.a)(t,1)[0],r=Object(a.useState)(e),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(!0),u=Object(j.a)(o,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){d(fe(n,s))}),[s]),[s,i,l]}(ke(n,i)),d=Object(j.a)(o,3),p=d[0],O=d[1],f=d[2];return Object(r.jsx)(we.a,{isOpen:c.isOpen,onClose:c.onClose,isCentered:!0,children:Object(r.jsx)(we.g,{children:Object(r.jsxs)(we.d,{children:[Object(r.jsx)(we.f,{children:t}),Object(r.jsx)(we.c,{}),Object(r.jsx)(we.b,{children:Object(r.jsx)(b.a,{spacing:3,children:Object.entries(n).map((function(e){var t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(h.a,{size:"md",children:s.name}),Object(r.jsx)(g.a,{placeholder:s.name,defaultValue:s.value||"",onChange:function(){return O(ke(n,i))},ref:function(e){return i.current[c]=e}})]},c)}))})}),Object(r.jsxs)(we.e,{children:[Object(r.jsx)(m.a,{colorScheme:"blue",mr:3,isDisabled:f,onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.onClose(),e.next=3,s(p);case 3:case"end":return e.stop()}}),e)}))),children:"Save"}),Object(r.jsx)(m.a,{onClick:c.onClose,children:"Cancel"})]})]})})})},Se=n(342),_e=function(e){var t=e.title,n=e.fields,c=e.ctrl,s=e.onDelete;return Object(r.jsx)(we.a,{isOpen:c.isOpen,onClose:c.onClose,isCentered:!0,children:Object(r.jsx)(we.g,{children:Object(r.jsxs)(we.d,{children:[Object(r.jsx)(we.f,{children:t}),Object(r.jsx)(we.c,{}),Object(r.jsx)(we.b,{children:Object(r.jsx)(b.a,{spacing:3,children:n&&Object.keys(n).map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(h.a,{size:"md",children:e}),Object(r.jsx)(ce.a,{children:n[e]})]},t)}))})}),Object(r.jsxs)(we.e,{children:[Object(r.jsxs)(Se.a,{children:[Object(r.jsx)(Se.g,{children:Object(r.jsx)(m.a,{colorScheme:"red",mr:3,children:"Delete"})}),Object(r.jsxs)(Se.e,{children:[Object(r.jsx)(Se.b,{}),Object(r.jsx)(Se.f,{children:"Are you sure?"}),Object(r.jsx)(Se.d,{}),Object(r.jsx)(Se.c,{children:Object(r.jsxs)(me.a,{size:"sm",children:[Object(r.jsx)(m.a,{colorScheme:"red",onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.onClose(),e.next=3,s();case 3:case"end":return e.stop()}}),e)}))),children:"Yes"}),Object(r.jsx)(m.a,{onClick:c.onClose,children:"No"})]})})]})]}),Object(r.jsx)(m.a,{onClick:c.onClose,children:"Cancel"})]})]})})})};function Ae(){return De.apply(this,arguments)}function De(){return(De=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.client().get("/api/monitor/rso/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return Re.apply(this,arguments)}function Re(){return(Re=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.client().get("/api/monitor/rso/download");case 2:t=e.sent,he()(t.data,"rso_emails.csv");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client().post("/api/monitor/rso",{email:t});case 3:z.b.success("Successfully added RSO email: '".concat(t,"'!")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(n||e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Ne(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client().delete("/api/monitor/rso/".concat(t));case 3:z.b.success("Successfully deleted RSO email: '".concat(t,"'!")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(n||e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Ee=function(e){var t=e.rso,n=e.onRequestDelete;return Object(r.jsxs)(ue,{children:[Object(r.jsx)(de,{children:Object(r.jsx)(ce.a,{fontSize:"md",color:"gray.500",children:t.email})}),Object(r.jsx)(de,{bg:t.registered?"green.200":"red.200",children:Object(r.jsx)(ce.a,{textAlign:"center",fontSize:"md",color:"gray.500",children:t.registered?"Yes":"No"})}),Object(r.jsx)(de,{bg:t.confirmed?"green.200":"red.200",children:Object(r.jsx)(ce.a,{textAlign:"center",fontSize:"md",color:"gray.500",children:t.confirmed?"Yes":"No"})}),Object(r.jsx)(de,{textAlign:"center",children:Object(r.jsxs)(se.a,{children:[Object(r.jsx)(se.b,{as:m.a,variant:"ghost",children:Object(r.jsx)(y.a,{icon:w.c,size:"sm"})}),Object(r.jsx)(se.d,{children:Object(r.jsx)(se.c,{onClick:n,children:Object(r.jsxs)("span",{children:[Object(r.jsx)(y.a,{icon:w.o,size:"sm"}),"  ","Remove"]})})})]})})]})},Pe=function(e){var t=e.ctrl,n=e.onAdd;return Object(r.jsx)(Ce,{title:"Add RSO Email",ctrl:t,onSave:n,fields:{email:{name:"RSO Email",value:""}}})},Be=function(e){var t=e.rso,n=void 0===t?null:t,a=e.ctrl,c=e.onDelete;return n&&Object(r.jsx)(_e,{title:"Delete RSO Email",ctrl:a,onDelete:function(){return c(n)},fields:{"RSO Email":n.email,Registered:n.registered?"Yes":"No",Confirmed:n.confirmed?"Yes":"No"}})},Ie=function(e){var t=e.rsoList,n=e.setRsoList,c=xe({data:t,mapper:function(e){return e.email},searchDelay:500,onListChange:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),s=Object(j.a)(c,4),i=s[0],o=s[1],p=s[2],h=s[3],O=ge(p,10),f=Object(j.a)(O,5),x=f[0],g=f[1],m=f[2],v=f[3],y=f[4],k=Object(be.a)(),C=Object(be.a)(),S=Object(a.useState)(null),_=Object(j.a)(S,2),A=_[0],D=_[1];return Object(r.jsx)(d.a,{align:"center",justify:"center",children:Object(r.jsxs)(b.a,{paddingTop:"32px",children:[Object(r.jsx)(ve,{title:"RSO List",pageNum:x,numPages:g,prevPage:y,nextPage:v}),Object(r.jsx)(P.a,{paddingTop:"8px",paddingBottom:"4px",children:Object(r.jsx)(ye,{onChange:function(e){return i.set(e)},onSearch:function(e){return i.set(e)},extraButtons:[{icon:w.k,onClick:C.onOpen},{icon:w.g,onClick:Le},{icon:w.n,onClick:function(){return h((function(){}))}}]})}),Object(r.jsxs)(ie,{children:[Object(r.jsx)(oe,{children:Object(r.jsxs)(ue,{children:[Object(r.jsx)(le,{children:"Club email"}),Object(r.jsx)(le,{children:"Registered?"}),Object(r.jsx)(le,{children:"Confirmed?"}),Object(r.jsx)(le,{children:"Actions"})]})}),Object(r.jsxs)(je,{opacity:o.get()?.5:1,children:[Object(r.jsx)(Pe,{ctrl:C,onAdd:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return Te(t.email)}));case 2:D(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(r.jsx)(Be,{rso:A,ctrl:k,onDelete:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return Ne(t.email)}));case 2:D(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),m.map((function(e,t){return Object(r.jsx)(Ee,{rso:e,onRequestDelete:function(){D(e),k.onOpen()}},t)}))]})]})]})})},He=function(){return Object(i.useTitle)("RSO List - sproul.club Dashboard"),Object(r.jsx)(V,{promiseFn:Ae,children:function(e,t){var n=t.setData;return Object(r.jsx)(Ie,{rsoList:e,setRsoList:n})}})};function qe(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.client().get("/api/monitor/club/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.client().get("/api/monitor/club/download");case 2:t=e.sent,he()(t.data,"clubs.csv");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client().delete("/api/monitor/club/".concat(t.email));case 3:z.b.success("Successfully deleted club: '".concat(t.name,"'!")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(n||e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var We=function(e){var t=e.club,n=e.onRequestDelete;return Object(r.jsxs)(ue,{children:[Object(r.jsx)(de,{children:Object(r.jsx)(ce.a,{fontSize:"md",color:"gray.500",children:t.name})}),Object(r.jsx)(de,{children:Object(r.jsx)(ce.a,{fontSize:"md",color:"gray.500",children:t.email})}),Object(r.jsx)(de,{bg:t.confirmed?"green.200":"red.200",children:Object(r.jsx)(ce.a,{textAlign:"center",fontSize:"md",color:"gray.500",children:t.confirmed?"Yes":"No"})}),Object(r.jsx)(de,{bg:t.reactivated?"green.200":"red.200",children:Object(r.jsx)(ce.a,{textAlign:"center",fontSize:"md",color:"gray.500",children:t.reactivated?"Yes":"No"})}),Object(r.jsx)(de,{textAlign:"center",children:Object(r.jsxs)(se.a,{children:[Object(r.jsx)(se.b,{as:m.a,variant:"ghost",children:Object(r.jsx)(y.a,{icon:w.c,size:"sm"})}),Object(r.jsx)(se.d,{children:Object(r.jsx)(se.c,{onClick:n,children:Object(r.jsxs)("span",{children:[Object(r.jsx)(y.a,{icon:w.o,size:"sm"}),"  ","Remove"]})})})]})})]})},Ze=function(e){var t=e.club,n=void 0===t?null:t,a=e.ctrl,c=e.onDelete;return n&&Object(r.jsx)(_e,{title:"Delete Club",ctrl:a,onDelete:function(){return c(n)},fields:{"Club Name":n.name,"Club Email":n.email}})},Ve=function(e){var t=e.clubs,n=e.setClubList,c=xe({data:t,mapper:function(e){return e.name},searchDelay:500,onListChange:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),s=Object(j.a)(c,4),i=s[0],o=s[1],p=s[2],h=s[3],O=ge(p,10),f=Object(j.a)(O,5),x=f[0],g=f[1],m=f[2],v=f[3],y=f[4],k=Object(be.a)(),C=Object(a.useState)(null),S=Object(j.a)(C,2),_=S[0],A=S[1];return Object(r.jsx)(d.a,{align:"center",justify:"center",children:Object(r.jsxs)(b.a,{paddingTop:"32px",children:[Object(r.jsx)(ve,{title:"Clubs",pageNum:x,numPages:g,prevPage:y,nextPage:v}),Object(r.jsx)(P.a,{paddingTop:"8px",paddingBottom:"4px",children:Object(r.jsx)(ye,{onChange:function(e){return i.set(e)},onSearch:function(e){return i.set(e)},extraButtons:[{icon:w.g,onClick:Fe},{icon:w.n,onClick:function(){return h((function(){}))}}]})}),Object(r.jsxs)(ie,{children:[Object(r.jsx)(oe,{children:Object(r.jsxs)(ue,{children:[Object(r.jsx)(le,{children:"Club name"}),Object(r.jsx)(le,{children:"Club email"}),Object(r.jsx)(le,{children:"Confirmed?"}),Object(r.jsx)(le,{children:"Reactivated?"}),Object(r.jsx)(le,{children:"Actions"})]})}),Object(r.jsxs)(je,{opacity:o.get()?.5:1,children:[Object(r.jsx)(Ze,{club:_,ctrl:k,onDelete:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return Ge(t)}));case 2:A(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),m.map((function(e,t){return Object(r.jsx)(We,{club:e,onRequestDelete:function(){A(e),k.onOpen()}},t)}))]})]})]})})},Je=function(){return Object(i.useTitle)("Clubs - sproul.club Dashboard"),Object(r.jsx)(V,{promiseFn:qe,children:function(e,t){var n=t.setData;return Object(r.jsx)(Ve,{clubs:e,setClubList:n})}})};function $e(){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.client().get("/api/monitor/tags/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return et.apply(this,arguments)}function et(){return(et=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.client().get("/api/monitor/tags/download");case 2:t=e.sent,he()(t.data,"tags.csv");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client().post("/api/monitor/tags",{name:t.name});case 3:z.b.success("Successfully added tag: '".concat(t.name,"'!")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(n||e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function rt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client().put("/api/monitor/tags/".concat(t._id),{name:n.name});case 3:z.b.success("Successfully changed tag name from '".concat(t.name,"'' to '").concat(n.name,"'!")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(r||e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ct(e){return st.apply(this,arguments)}function st(){return(st=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client().delete("/api/monitor/tags/".concat(t._id));case 3:z.b.success("Successfully deleted tag: '".concat(t.name,"'!")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.reason,z.b.error(n||e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var it=function(e){var t=e.tag,n=e.onRequestEdit,a=e.onRequestDelete;return Object(r.jsxs)(ue,{children:[Object(r.jsx)(de,{children:Object(r.jsx)(ce.a,{fontSize:"md",color:"gray.500",children:t.name})}),Object(r.jsx)(de,{bg:0!==t.num_clubs?"green.200":"red.200",children:Object(r.jsx)(ce.a,{textAlign:"center",fontSize:"md",color:"gray.500",children:t.num_clubs})}),Object(r.jsx)(de,{textAlign:"center",children:Object(r.jsxs)(se.a,{children:[Object(r.jsx)(se.b,{as:m.a,variant:"ghost",children:Object(r.jsx)(y.a,{icon:w.c,size:"sm"})}),Object(r.jsxs)(se.d,{children:[Object(r.jsx)(se.c,{onClick:n,children:Object(r.jsxs)("span",{children:[Object(r.jsx)(y.a,{icon:w.h,size:"sm"}),"  ","Edit"]})}),Object(r.jsx)(se.c,{onClick:a,children:Object(r.jsxs)("span",{children:[Object(r.jsx)(y.a,{icon:w.o,size:"sm"}),"  ","Remove"]})})]})]})})]})},ot=function(e){var t=e.ctrl,n=e.onAdd;return Object(r.jsx)(Ce,{title:"Add Tag",ctrl:t,onSave:n,fields:{name:{name:"Tag Name",value:""}}})},ut=function(e){var t=e.tag,n=void 0===t?null:t,a=e.ctrl,c=e.onEdit;return n&&Object(r.jsx)(Ce,{title:"Edit Tag",ctrl:a,onSave:c,fields:{name:{name:"Tag Name",value:n.name}}})},lt=function(e){var t=e.tag,n=void 0===t?null:t,a=e.ctrl,c=e.onDelete;return n&&Object(r.jsx)(_e,{title:"Delete Tag",ctrl:a,onDelete:function(){return c(n)},fields:{"Tag Name":n.name,"# of Clubs":n.num_clubs}})},jt=function(e){var t=e.tags,n=e.setTags,c=xe({data:t,mapper:function(e){return e.name},searchDelay:500,onListChange:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),s=Object(j.a)(c,4),i=s[0],o=s[1],p=s[2],h=s[3],O=ge(p,10),f=Object(j.a)(O,5),x=f[0],g=f[1],m=f[2],v=f[3],y=f[4],k=Object(be.a)(),C=Object(be.a)(),S=Object(be.a)(),_=Object(a.useState)(null),A=Object(j.a)(_,2),D=A[0],L=A[1];return Object(r.jsx)(d.a,{align:"center",justify:"center",children:Object(r.jsxs)(b.a,{paddingTop:"32px",children:[Object(r.jsx)(ve,{title:"Tags",pageNum:x,numPages:g,prevPage:y,nextPage:v}),Object(r.jsx)(P.a,{paddingTop:"8px",paddingBottom:"4px",children:Object(r.jsx)(ye,{onChange:function(e){return i.set(e)},onSearch:function(e){return i.set(e)},extraButtons:[{icon:w.k,onClick:k.onOpen},{icon:w.g,onClick:Xe},{icon:w.n,onClick:function(){return h((function(){}))}}],onStartDownload:Xe})}),Object(r.jsxs)(ie,{children:[Object(r.jsx)(oe,{children:Object(r.jsxs)(ue,{children:[Object(r.jsx)(le,{children:"Tag name"}),Object(r.jsx)(le,{children:"# of clubs"}),Object(r.jsx)(le,{children:"Actions"})]})}),Object(r.jsxs)(je,{opacity:o.get()?.5:1,children:[Object(r.jsx)(ot,{ctrl:k,onAdd:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return tt(t)}));case 2:L(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(r.jsx)(ut,{tag:D,ctrl:C,onEdit:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return rt(D,t)}));case 2:L(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(r.jsx)(lt,{tag:D,ctrl:S,onDelete:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return ct(t)}));case 2:L(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),m.map((function(e,t){return Object(r.jsx)(it,{tag:e,onRequestEdit:function(){L(e),C.onOpen()},onRequestDelete:function(){L(e),S.onOpen()}},t)}))]})]})]})})},dt=function(){return Object(i.useTitle)("Tags - sproul.club Dashboard"),Object(r.jsx)(V,{promiseFn:$e,children:function(e,t){var n=t.setData;return Object(r.jsx)(jt,{tags:e,setTags:n})}})},bt=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],pt=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];function ht(){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(l.a)(u.a.mark((function e(){var t,n,r,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([T.client().get("/api/monitor/tags/list"),T.client().get("/api/monitor/more-stats/social-media"),T.client().get("/api/monitor/more-stats/club-reqs"),T.client().get("/api/monitor/more-stats/pic-stats")]);case 2:return t=e.sent,n=Object(j.a)(t,4),r=n[0],a=n[1],c=n[2],s=n[3],e.abrupt("return",{tagUsage:r.data,socialMedia:a.data[0],clubReqs:c.data[0],picStats:s.data[0]});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=function(e){return Object(r.jsx)(P.a,Object(E.a)({px:"4",py:"5",rounded:"sm",shadow:"lg"},e))};function xt(e,t){for(var n=[],r=0;r<e;r++)n.push(t[r%t.length]);return n}for(var gt=function(e){var t=e.type,n=e.title,a=e.data,c=e.dataLabels,s=e.dataDescription,i=e.bgColors,o=e.borderColors,u=e.showLegend,l={labels:c,datasets:[{label:s,data:a,fill:!1,backgroundColor:i,borderColor:o,borderWidth:1}]},j={title:{display:!0,text:n,fontSize:18},legend:{display:void 0!==u&&u},responsive:!0,maintainAspectRatio:!0};return Object(r.jsx)(Y.a,{data:l,options:j,type:t,height:50,width:100})},mt=function(e){var t=e.stats,n=Object.keys(t),a=Object.values(t),c=a.length,s=xt(c,bt),i=xt(c,pt);return Object(r.jsx)(gt,{type:"horizontalBar",title:"Social Media Usage",data:a,dataLabels:n,dataDescription:"# of clubs",bgColors:s,borderColors:i,showLegend:!0})},vt=function(e){var t=e.stats,n=t.map((function(e){return e.name})),a=t.map((function(e){return e.num_clubs})),c=a.length,s=xt(c,bt),i=xt(c,pt);return Object(r.jsx)(gt,{type:"bar",title:"Tag Usage",data:a,dataLabels:n,dataDescription:"# of clubs",bgColors:s,borderColors:i,showLegend:!0})},yt=function(e){var t=e.stats,n=[t.app_required,t.no_app_required],a=[bt[3],bt[0]],c=[pt[3],pt[0]];return Object(r.jsx)(gt,{type:"doughnut",title:"App Required?",data:n,dataLabels:["Yes","No"],dataDescription:"# of clubs",bgColors:a,borderColors:c})},wt=function(e){var t=e.stats,n=[t.new_members,t.no_new_members],a=[bt[3],bt[0]],c=[pt[3],pt[0]];return Object(r.jsx)(gt,{type:"doughnut",title:"New Members?",data:n,dataLabels:["Yes","No"],dataDescription:"# of clubs",bgColors:a,borderColors:c})},kt=function(e){var t=e.stats,n=[t.logo_pic,t.no_logo_pic],a=[bt[3],bt[0]],c=[pt[3],pt[0]];return Object(r.jsx)(gt,{type:"doughnut",title:"Has Logo?",data:n,dataLabels:["Yes","No"],dataDescription:"# of clubs",bgColors:a,borderColors:c})},Ct=function(e){var t=e.stats,n=[t.banner_pic,t.no_banner_pic],a=[bt[3],bt[0]],c=[pt[3],pt[0]];return Object(r.jsx)(gt,{type:"doughnut",title:"Has Banner?",data:n,dataLabels:["Yes","No"],dataDescription:"# of clubs",bgColors:a,borderColors:c})},St=function(e){var t=e.stats,n=e.reload;return Object(r.jsxs)(b.a,{padding:"24px",pr:"108px",pl:"108px",children:[Object(r.jsxs)(d.a,{justify:"space-between",children:[Object(r.jsx)(h.a,{as:"h3",size:"lg",children:"More Statistics"}),Object(r.jsx)(m.a,{onClick:n,children:Object(r.jsx)(y.a,{icon:w.l})})]}),Object(r.jsxs)(B.a,{templateColumns:"repeat(2, 1fr)",gap:6,children:[Object(r.jsx)(ft,{children:Object(r.jsx)(mt,{stats:t.socialMedia})}),Object(r.jsx)(ft,{children:Object(r.jsx)(vt,{stats:t.tagUsage})})]}),Object(r.jsxs)(B.a,{templateColumns:"repeat(4, 1fr)",gap:6,children:[Object(r.jsx)(ft,{children:Object(r.jsx)(yt,{stats:t.clubReqs})}),Object(r.jsx)(ft,{children:Object(r.jsx)(wt,{stats:t.clubReqs})}),Object(r.jsx)(ft,{children:Object(r.jsx)(kt,{stats:t.picStats})}),Object(r.jsx)(ft,{children:Object(r.jsx)(Ct,{stats:t.picStats})})]})]})},_t=function(){return Object(i.useTitle)("More Stats - sproul.club Dashboard"),Object(r.jsx)(V,{promiseFn:ht,children:function(e,t){var n=t.reload;return Object(r.jsx)(St,{stats:e,reload:n})}})},At={HOME:{name:"Overview",path:"/overview",widget:function(){return Object(r.jsx)(ae,{})}},LOGIN:{name:"Login",path:"/login",widget:function(){return Object(r.jsx)(N,{})},hidden:!0},RSO:{name:"RSO List",path:"/rso",widget:function(){return Object(r.jsx)(He,{})}},CLUBS:{name:"Clubs",path:"/clubs",widget:function(){return Object(r.jsx)(Je,{})}},TAGS:{name:"Tags",path:"/tags",widget:function(){return Object(r.jsx)(dt,{})}},MORE_STATS:{name:"More Stats",path:"/more-stats",widget:function(){return Object(r.jsx)(_t,{})}}},Dt={},Lt=0,Rt=Object.values(At);Lt<Rt.length;Lt++){var Tt=Rt[Lt];Dt[Tt.path]=Tt.widget}var zt=n(339),Nt="https://scoutapm.com/apps/182171",Mt="https://sentry.io/organizations/sproulclub/issues/?project=5392072",Et=function(e){var t=e.link,n=e.children;return Object(r.jsx)(ce.a,{mt:{base:4,md:0},mr:6,display:"block",children:Object(r.jsx)(i.A,{href:t,children:n})})},Pt=function(e){for(var t=e.showMenu,n=e.config,a=[],c=0,s=Object.entries(n);c<s.length;c++){var i=Object(j.a)(s[c],2),o=i[0],u=i[1];u.hidden||a.push(Object(r.jsx)(Et,{link:u.path,children:u.name},o))}return Object(r.jsx)(P.a,{display:{sm:t?"block":"none",md:"flex"},width:{sm:"full",md:"auto"},alignItems:"center",flexGrow:1,children:a})};function Bt(){return It.apply(this,arguments)}function It(){return(It=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.signOut();case 2:Object(i.navigate)(At.LOGIN.path);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ht=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=At.HOME.path,o=Object(i.usePath)(),u=Object.values(At).find((function(e){return o===e.path}));return!u||u.hidden?null:Object(r.jsxs)(d.a,{as:"nav",align:"center",justify:"space-between",wrap:"wrap",padding:"1.0rem",bg:"blue.300",color:"white",children:[Object(r.jsxs)(d.a,{align:"center",mr:5,children:[Object(r.jsx)(i.A,{href:s,children:Object(r.jsx)(p.a,{src:v,boxSize:"3.0rem"})}),Object(r.jsx)(h.a,{as:"h1",size:"lg",paddingLeft:"1.0rem",children:Object(r.jsx)(i.A,{href:s,children:"sproul.club"})})]}),Object(r.jsx)(P.a,{display:{sm:"block",md:"none"},onClick:function(){return c(!n)},children:Object(r.jsx)(y.a,{icon:w.a})}),Object(r.jsx)(Pt,{showMenu:n,config:At}),Object(r.jsx)(P.a,{display:{sm:n?"block":"none",md:"block"},mt:{base:4,md:0},children:Object(r.jsx)(b.a,{direction:"row",children:Object(r.jsxs)(me.a,{children:[Object(r.jsx)(m.a,{bg:"orange.300",border:"1px",children:Object(r.jsxs)("a",{href:Nt,children:[Object(r.jsx)(y.a,{icon:w.f}),Object(r.jsxs)("span",{children:["  ","Scout APM"]})]})}),Object(r.jsx)(m.a,{bg:"purple.700",border:"1px",children:Object(r.jsxs)("a",{href:Mt,children:[Object(r.jsx)(y.a,{icon:w.b}),Object(r.jsxs)("span",{children:["  ","Sentry.IO"]})]})}),Object(r.jsx)(m.a,{bg:"transparent",border:"1px",onClick:Bt,children:"Log out"})]})})})]})};n(306);Object(i.setBasepath)("/sc-admin");var qt=function(){Object(i.useRedirect)("/",At.LOGIN.path);var e=Object(i.useRoutes)(Dt)||Object(r.jsx)(Z,{errorCode:404}),t=T.isLoggedIn();return Object(r.jsxs)(zt.a,{children:[Object(r.jsx)(z.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),t&&Object(r.jsx)(Ht,{}),t?e:At.LOGIN.widget()]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(r.jsx)(qt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[307,1,2]]]);
//# sourceMappingURL=main.7828db55.chunk.js.map